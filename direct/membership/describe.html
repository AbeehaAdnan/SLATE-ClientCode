<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Describe Entities</title>
</head>
<body>
    <h3 style='margin-bottom: 0.3em;'><a href='describe.html'>membership</a> (<a href='describe.xml'>xml</a>)</h3>
      <div style='padding-left:0.5em; padding-bottom:0.2em; width:90%;'>Represents a user's membership in a location (site, group, etc.) in the system, works with the site/group entities and the user entities. In the documentation below, a membership ID is a string in the form USER_ID::LOCATION_REFERENCE (e.g., "aaronz::site:mySiteId").</div>
      <div style='font-style: italic; padding-left:1em;'>RESTful URLs: <a href='http://microformats.org/wiki/rest/urls'>http://microformats.org/wiki/rest/urls</a></div>
      <div style='font-style: italic; padding-left:2em; font-size:0.9em;'>HTTP response codes as returned by the system: <br/> 200 - OK (request is ok and content returned) <br/> 201 - CREATED (request created new content, URL and id of content in the header) <br/> 204 - NO CONTENT (request is ok but no content to return) <br/> 400 - ERROR (general error in the request, probably invalid parameters or data) <br/> 401 - UNAUTHORIZED (user authentication required for this request) <br/> 403 - FORBIDDEN (authorization required, insufficient privileges, user is already authenticated) <br/> 404 - NOT FOUND (resource not found, URL is invalid in some way, id or action are invalid) <br/> 405 - METHOD NOT ALLOWED (the method is not supported for this entity type) <br/> 406 - NOT ACCEPTABLE (the data format requested is unavailable for this entity type) <br/> 500 - INTERNAL SERVER ERROR (general server failure, probably a failure in the provider) <br/> 501 - NOT IMPLEMENTED (indicates that a prefix is invalid)</div>
      <h4 style='padding-left:0.5em;margin-bottom:0.2em;'>Sample Entity URLs (_id=':ID:') [may not be valid]:</h4>
      <div style='padding-left:1em;padding-bottom:1em;'>
        <div>
          <div>Entity Collection URL: GET <a href='http://slate.nu.edu.pk/direct/membership'>/membership</a> (<a href='http://slate.nu.edu.pk/direct/membership.html'>html</a>) (<a href='http://slate.nu.edu.pk/direct/membership.xml'>xml</a>) (<a href='http://slate.nu.edu.pk/direct/membership.json'>json</a>) (<a href='http://slate.nu.edu.pk/direct/membership.form'>form</a>)</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Response Code Details: 200 plus data; 404 if not found, 406 if format unavailable</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:2em;'>By default, retrieves a list of all site memberships for the current user. Optional query parameters: "includeSites=false" filters out site memberships; "includeGroups=true" retrieves group memberships; "_locationReference=LOCATION_REFERENCE" returns all memberships in the specified site or group; "user=USER_ID" (or "userId=USER_ID" or "_userReference=USER_REFERENCE") returns the given user's memberships; "includeMemberDetails=true" to return member full details of just the role of the user, cannot use this with includeGroups=true; "role=ROLE_STRING" (or "roleId=ROLE_STRING") restricts the list to the specified member role.</div>
        </div>
        <div>
          <div>Create Entity URL: POST <a href='http://slate.nu.edu.pk/direct/membership'>/membership</a> (<a href='http://slate.nu.edu.pk/direct/membership.form'>form</a>)</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Response Code Details: 201 plus id (EntityId); 400 if inputs invalid</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:2em;'>(POST) Add the membership specified by the ID. Alternatively, a POST to the simple "/membership" URL can specify "userId" and "locationReference" request parameters. In either case, optional request parameters are: "memberRole" string (default for joinable site memberships is the default joiner role); "active" Boolean value (default is true). Can do a batch add to the same location using the same role by specifying a "userIds" parameter (an array of user IDs).</div>
        </div>
        <div>
          <div>Show Entity URL: GET <a href='http://slate.nu.edu.pk/direct/membership/:ID:'>/membership/:ID:</a> (<a href='http://slate.nu.edu.pk/direct/membership/:ID:.html'>html</a>) (<a href='http://slate.nu.edu.pk/direct/membership/:ID:.xml'>xml</a>) (<a href='http://slate.nu.edu.pk/direct/membership/:ID:.json'>json</a>) (<a href='http://slate.nu.edu.pk/direct/membership/:ID:.form'>form</a>)</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Response Code Details: 200 plus data; 404 if not found, 406 if format unavailable</div>
        </div>
        <div>
          <div>Update Entity URL: PUT <a href='http://slate.nu.edu.pk/direct/membership/:ID:'>/membership/:ID:</a> (<a href='http://slate.nu.edu.pk/direct/membership/:ID:.form'>form</a>)</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Response Code Details: 204; 400 if inputs invalid</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:2em;'>(POST) Modify the membership specified by the ID. Alternatively, a POST to the "/membership" URL can specify "userId" and "locationReference" request parameters. In either case, optional request parameters are: "memberRole" string; "active" Boolean value. Can do a batch update to the same location using the same role and active setting by specifying a "userIds" parameter (an array of user IDs).</div>
        </div>
        <div>
          <div>Delete Entity URL: DELETE <a href='http://slate.nu.edu.pk/direct/membership/:ID:'>/membership/:ID:</a> (<a href='http://slate.nu.edu.pk/direct/membership/:ID:.form'>form</a>)</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Response Code Details: 204; 404 if not found</div>
          <div style='font-style:italic;font-size:0.9em;padding-left:2em;'>(DELETE) Delete the membership specified by the ID. Multiple memberships can be deleted from the same location by specifying a "userIds" parameter (an array of user IDs).</div>
        </div>
      </div>
      <h4 style='padding-left:0.5em;margin-bottom:0.2em;'>Custom Actions</h4>
      <div style='padding-left:1em;padding-bottom:1em;'>
        <div>
          <a style='font-weight:bold;' href='http://slate.nu.edu.pk/direct/membership/site'>site</a> : <span>*</span> : <span>[/membership/site]</span>  (<a href='http://slate.nu.edu.pk/direct/membership/site.html'>html</a>) (<a href='http://slate.nu.edu.pk/direct/membership/site.xml'>xml</a>) (<a href='http://slate.nu.edu.pk/direct/membership/site.json'>json</a>) (<a href='http://slate.nu.edu.pk/direct/membership/site.form'>form</a>)<br/>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>The URL format is "/membership/site/:SITE_ID:". <br/> (GET) will return all memberships in the specified site. <br/> (POST) will add one or more site memberships via an array of "userSearchValues" request parameters (each of which is a user ID, user EID, or email address), along with a "memberRole" string (default for joinable site memberships is the default joiner role) and "active" Boolean value (default is true). Response headers may include "x-warning-not-found" (for a list of invalid userSearchValues) and "x-warning-already-members" (for a list of userSearchValues which were already site members).</div>
        </div>
        <div>
          <a style='font-weight:bold;' href='http://slate.nu.edu.pk/direct/membership/sitebyjson'>sitebyjson</a> : <span>new (POST)</span> : <span>[/membership/sitebyjson]</span> <br/>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>The URL format is "/membership/sitebyjson/:SITE_ID:". <br/> (POST) will add one or more site memberships via an chunk of JSON supplied in the 'json' request parameter.<br/> <br/>The JSON needs to be formatted like this: <br/> <br/>[ {"id": "user1", "role": "access"}, {"id": "user2","role": "maintain"} ]<br/> <br/>Three response headers will be set:<br/> <br/><b>x-success-count</b>, which contains the number of successful additions<br/> <b>x-warning-not-found</b>, which contains a comma separated list of user ids which didn't exist<br/>  <b>x-warning-already-members</b>, which contains a comma separated list of user ids which were already in the site</div>
        </div>
        <div>
          <a style='font-weight:bold;' href='http://slate.nu.edu.pk/direct/membership/unjoin'>unjoin</a> : <span>new (POST)</span> : <span>[/membership/unjoin]</span> <br/>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Allows a user without permissions in a site to unjoin from it, works with the current user only: /membership/unjoin/site/siteId</div>
        </div>
        <div>
          <a style='font-weight:bold;' href='http://slate.nu.edu.pk/direct/membership/join'>join</a> : <span>new (POST)</span> : <span>[/membership/join]</span> <br/>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Allows a user without permissions in a site to join it, works with the current user only: /membership/join/site/siteId</div>
        </div>
        <div>
          <a style='font-weight:bold;' href='http://slate.nu.edu.pk/direct/membership/fastroles'>fastroles</a> : <span>*</span> : <span>[/membership/fastroles]</span>  (<a href='http://slate.nu.edu.pk/direct/membership/fastroles.html'>html</a>) (<a href='http://slate.nu.edu.pk/direct/membership/fastroles.xml'>xml</a>) (<a href='http://slate.nu.edu.pk/direct/membership/fastroles.json'>json</a>) (<a href='http://slate.nu.edu.pk/direct/membership/fastroles.form'>form</a>)<br/>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>Allows for retrieval of current role in site only quickly. Use the format "/membership/fastroles/:userId:" (or userEid) or current user if none specified. A shortcut for includeMemberDetail=false.</div>
        </div>
        <div>
          <a style='font-weight:bold;' href='http://slate.nu.edu.pk/direct/membership/group'>group</a> : <span>*</span> : <span>[/membership/group]</span>  (<a href='http://slate.nu.edu.pk/direct/membership/group.html'>html</a>) (<a href='http://slate.nu.edu.pk/direct/membership/group.xml'>xml</a>) (<a href='http://slate.nu.edu.pk/direct/membership/group.json'>json</a>) (<a href='http://slate.nu.edu.pk/direct/membership/group.form'>form</a>)<br/>
          <div style='font-style:italic;font-size:0.9em;padding-left:1.5em;'>The URL format is "/membership/group/:groupId:" <br/> (GET) will return all memberships for a group. <br/> (POST) will update user group membership. Mandatory POST Parameters: 'userIds' a comma separated list of users (eid or id). 'action' can have values: update, add or remove. If update, replace the current membership with the provided list. If add, add the list to the existing membership, if remove, remove the list from the existing membership. </div>
        </div>
      </div>
      <h4 style='padding-left:0.5em;margin-bottom:0.2em;'>Entity class : org.sakaiproject.entitybroker.providers.model.EntityMember</h4>
      <div style='padding-left:1em;padding-bottom:1em;'>
        <div><b>Type :: bean</b></div>
        <table width='80%' cellpadding='0' cellspacing='0'>
          <thead>
            <tr>
              <td width='1%'></td>
              <td>Name</td>
              <td>Type</td>
              <td>Status</td>
            </tr>
          </thead>
          <tbody>
            <tr><td>1)&nbsp;</td><td style='font-weight:bold;'>active</td><td>boolean</td><td style='font-style:italic;'>Read/Write</td></tr>
            <tr style='color:red;'><td>2)&nbsp;</td><td style='font-weight:bold;'>id</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr style='color:red;'><td>3)&nbsp;</td><td style='font-weight:bold;'>lastLoginTime</td><td>java.util.Date</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr><td>4)&nbsp;</td><td style='font-weight:bold;'>locationReference</td><td>string</td><td style='font-style:italic;'>Read/Write <b style='color:red;'>* required</b></td></tr>
            <tr><td>5)&nbsp;</td><td style='font-weight:bold;'>memberRole</td><td>string</td><td style='font-style:italic;'>Read/Write <b style='color:red;'>* required</b></td></tr>
            <tr><td>6)&nbsp;</td><td style='font-weight:bold;'>provided</td><td>boolean</td><td style='font-style:italic;'>Read/Write</td></tr>
            <tr style='color:red;'><td>7)&nbsp;</td><td style='font-weight:bold;'>userDisplayId</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr style='color:red;'><td>8)&nbsp;</td><td style='font-weight:bold;'>userDisplayName</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr style='color:red;'><td>9)&nbsp;</td><td style='font-weight:bold;'>userEid</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr style='color:red;'><td>10)&nbsp;</td><td style='font-weight:bold;'>userEmail</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr style='color:red;'><td>11)&nbsp;</td><td style='font-weight:bold;'>userFirstName</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr><td>12)&nbsp;</td><td style='font-weight:bold;'>userId</td><td>string</td><td style='font-style:italic;'>Read/Write <b style='color:red;'>* required</b></td></tr>
            <tr style='color:red;'><td>13)&nbsp;</td><td style='font-weight:bold;'>userLastName</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
            <tr style='color:red;'><td>14)&nbsp;</td><td style='font-weight:bold;'>userSortName</td><td>string</td><td style='font-style:italic;'>Read Only</td></tr>
          </tbody>
        </table>
      </div>
      <h4 style='padding-left:0.5em;margin-bottom:0.2em;'>Data and Request Handling</h4>
      <div style='padding-left:1em;padding-bottom:1em;'>
        <div>Output formats : html, xml, json, form</div>
        <div>Input formats : html, xml, json</div>
        <div style='font-style:italic;padding-left:1em'>No Access Provider registered for request processing</div>
      </div>
      <h4 style='padding-left:0.5em;margin-bottom:0.2em;'>Capabilities</h4>
      <table width='95%' style='padding-left:1.5em;'>
        <tr style='font-size:0.9em;'><th width='1%'></th><th width='14%'>Name</th><th width='30%'>Type</th><th width='55%'>Description</th></tr>
        <tr style='font-size:0.9em;'><td>1</td><td>CoreEntityProvider</td><td>org.sakaiproject.entitybroker.entityprovider.CoreEntityProvider</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>2</td><td>EntityProvider</td><td>org.sakaiproject.entitybroker.entityprovider.EntityProvider</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>3</td><td>ActionsExecutable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.ActionsExecutable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>4</td><td>CRUDable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.CRUDable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>5</td><td>CollectionResolvable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.CollectionResolvable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>6</td><td>Createable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Createable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>7</td><td>Deleteable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Deleteable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>8</td><td>Describeable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Describeable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>9</td><td>Inputable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Inputable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>10</td><td>Outputable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Outputable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>11</td><td>RESTful</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.RESTful</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>12</td><td>Redirectable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Redirectable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>13</td><td>Resolvable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Resolvable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>14</td><td>Sampleable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Sampleable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>15</td><td>Saveable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Saveable</td><td></td></tr>
        <tr style='font-size:0.9em;'><td>16</td><td>Updateable</td><td>org.sakaiproject.entitybroker.entityprovider.capabilities.Updateable</td><td></td></tr>
      </table>
<br/>
<div style='width:100%;text-align:center;font-style:italic;font-size:0.9em;'>REST:: <b>1.0.1</b> SVN: $Revision$ : $Date$</div>
</body>
</html>
