<?xml version="1.0" encoding="UTF-8" ?>
    <prefix>
      <prefix>sitestats-metrics</prefix>
      <describeURL>/direct/sitestats-metrics/describe</describeURL>
      <summary>Provides SiteStats event aggregator metrics for the current server node</summary>
      <customActions>
        <customAction>
          <action>get-reset-time</action>
          <url>/direct/sitestats-metrics/get-reset-time</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the time that occurred since start/last reset.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>is-idle</action>
          <url>/direct/sitestats-metrics/is-idle</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Check if event aggregator is idle (empty queue and no event being processed).</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-all-metrics</action>
          <url>/direct/sitestats-metrics/get-all-metrics</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Gets all the metrics.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-events-generated-per-sec</action>
          <url>/direct/sitestats-metrics/get-events-generated-per-sec</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the average number of events generated by Sakai per second.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>reset-all-metrics</action>
          <url>/direct/sitestats-metrics/reset-all-metrics</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Resets all metrics.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-average-time-event-processing-per-event</action>
          <url>/direct/sitestats-metrics/get-average-time-event-processing-per-event</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the average time spent, in milliseconds, for event processing per event</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-time-ellapsed-since-reset</action>
          <url>/direct/sitestats-metrics/get-time-ellapsed-since-reset</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the total time ellapsed, in milliseconds, since start/last reset.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-time-spent-processing-events</action>
          <url>/direct/sitestats-metrics/get-time-spent-processing-events</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the total time, in milliseconds, spent in event processing.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-total-events-processed</action>
          <url>/direct/sitestats-metrics/get-total-events-processed</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the total number of events processed.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-events-processed-per-sec</action>
          <url>/direct/sitestats-metrics/get-events-processed-per-sec</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Get the average number of events processed per second.</description>
        </customAction>
      </customActions>
      <customActions>
        <customAction>
          <action>get-queue-size</action>
          <url>/direct/sitestats-metrics/get-queue-size</url>
          <method>GET</method>
          <viewKey>list</viewKey>
          <description>Returns the total number of events waiting on the queue to be processed.</description>
        </customAction>
      </customActions>
      <outputFormats>
        <format>html</format>
        <format>xml</format>
        <format>json</format>
       </outputFormats>
      <inputFormats>
        <format>html</format>
        <format>xml</format>
        <format>json</format>
       </inputFormats>
      <entityClass>
        <class>java.lang.String</class>
        <type>simple</type>
      </entityClass>
      <capabilities>
        <capability>
          <name>EntityProvider</name>
          <type>org.sakaiproject.entitybroker.entityprovider.EntityProvider</type>
        </capability>
        <capability>
          <name>ActionsExecutable</name>
          <type>org.sakaiproject.entitybroker.entityprovider.capabilities.ActionsExecutable</type>
        </capability>
        <capability>
          <name>AutoRegisterEntityProvider</name>
          <type>org.sakaiproject.entitybroker.entityprovider.capabilities.AutoRegisterEntityProvider</type>
        </capability>
        <capability>
          <name>Describeable</name>
          <type>org.sakaiproject.entitybroker.entityprovider.capabilities.Describeable</type>
        </capability>
        <capability>
          <name>Inputable</name>
          <type>org.sakaiproject.entitybroker.entityprovider.capabilities.Inputable</type>
        </capability>
        <capability>
          <name>Outputable</name>
          <type>org.sakaiproject.entitybroker.entityprovider.capabilities.Outputable</type>
        </capability>
        <capability>
          <name>Sampleable</name>
          <type>org.sakaiproject.entitybroker.entityprovider.capabilities.Sampleable</type>
        </capability>
      </capabilities>
    </prefix>
